<div class="ui grid two column subview  ">
    <div class="two column row headerSub">
        <% if (type == 'default') { %>
        <div class="column active" style="border-right:1px solid grey; padding: 0px;height: 100%;"><button class="ui button inverted basic" id="default">Défauts</button></div>
        <div class="column"><button class="ui button inverted basic" id="used">Utilisés</button></div>
        <% } else if (type == 'used') {%>
        <div class="column" style="border-right:1px solid grey; padding: 0px;height: 100%;"><button class="ui button inverted basic" id="default">Défauts</button></div>
        <div class="column active"><button class="ui button inverted basic" id="used">Utilisés</button></div>
        <% } else { %>
            <p style="margin: auto;">Tree View</p>
        <% }%>
    </div>

    <% if (type != 'default' && type != 'used') { %>
        <div id="sceneTree"></div>
    <% } else { %>
        <% _.each(objects, function(object, i){ %>
        <div class="center tab column animated fadeInRight addObject" data-id="<%- object.type %>">
            <div class="imageBox dropMaterial row center">
                <img class="object-icon" src="<%- object.logo %>"/>
            </div>
            <div class="my-object-text-row row" style="padding:0px;">
                <p style="color:white;"><%- object.name %></p>
            </div>
        </div>
        <% }); %>
    <% } %>
</div>
<script>
    const sm = $('#sceneTree').sugarmaple({
        events:  {
            onImport: (node) => {
                return node;
            },
            onExport: (node) => {
                return node;
            }
        },
        plugins: {
            manage:    true,
            sortable:  true,
            checkable: true
        }
    });

    const titi = sm.sugarmaple('manage.create', 'titi', 'tete');
    const tita = sm.sugarmaple('manage.create', 'tita', {a: 'tete',b: 2});
    const tito = sm.sugarmaple('manage.create', 'tito', ['tete']);
    sm.sugarmaple('manage.attach', titi, tita);
    sm.sugarmaple('manage.attach', titi, tito);
    sm.sugarmaple('manage.setRoot', titi);
</script>
